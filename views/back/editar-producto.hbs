<!DOCTYPE html>
<html lang="en">
    
<head>
       <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <!-- bootstrap.min css -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!-- Animate css -->
    <link rel="stylesheet" href="../css/animate.css">
    <!-- icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css">


    <!-- Main Stylesheet -->
    <link rel="stylesheet" href="../css/style.css">

</head>
<body id="backend" style="background-color: rgb(214, 148, 208);">
    <header class="header_section">
      {{> nav}}
    </header>
    <h1>Editando: {{producto.title}}</h1>
    </br>
    <div class="container mb-4">
 
         <div class="editar-producto mt-4" style="text-align: center;" >


           <form action="/editar-producto/{{producto.id}}" method="post" id="form1"  >

            {{#if mensaje}}
            <p>{{mensaje}}
            {{/if}}
            
             <label for="title" style="padding: right 5px; " > <b> Nombre : </b> </label> 
            <input type="text" style="margin-left: 80px;" id="title" value={{producto.title}} name="title"><br><br>
 
             <label for="price" style="padding: right 10px; "> <b> Precio : </b> </label> 
            <input type="text" style="margin-left: 90px;"  id="price" value={{producto.price}} name="price"><br><br><br>

           <label for="description" style="padding: right 10px; "> <b> Descripcion : </b></label> 
            <textarea type="text"  cols="20" rows="6" style="margin-left: 45px "  id="description" name="description"> {{producto.description}}
            </textarea><br><br><br>


         <label for="stock" style="padding: right 5px; " > <b> Stock : </b> </label> 
            <input type="number" style="margin-left: 80px;" id="stock" value={{producto.stock}} name="stock"><br><br>
  
       <div class="mb-3 col-12 editar" id="imagenCargada">
       <label for="image" class="form-label">Imagen</label>

      <img src="/uploads/images.jpg" alt="" class="img-fluid">

      <input class="form-control" type="file" id="image" name="image" style="display:none" accept=".png,.jpg,.jpeg">
     </div>
           </br>
               </br>
               
                <button type="submit" class="btn btn-secondary">Actualizar</button>
                <a href="/admin" class="btn btn-secondary">Volver al listado de productos</a>
                <a href="/" class="btn btn-secondary">Volver a la Pagina Principal</a>
              </form>
        </div>
    </div>
 <footer class="footer_section">
    {{> footer}}
  </footer>

  <script>
        // https://developer.mozilla.org/en-US/docs/Web/API/File/Using_files_from_web_applications
        const contenedor = document.querySelector("#imagenCargada")
        const elInput = document.querySelector("#image"); //toma la imagen

        //cuando se haga click en cualquier parte del contenedor<div> Imagen </div>
        //va a checkear si el imput tiene algo y va a ejecutar un click
        //selecciona la imagen y la oculta
        //muestra el imput
        //y va a remover la clase editar
        contenedor.addEventListener("click", function (e) {
            if (elInput) {
                elInput.click();
                document.querySelector("#imagenCargada img").style.display = "none";
                elInput.style.display = "block"
                contenedor.classList.remove("editar")
            }
        }, false);
  </script>
</body>
</html>